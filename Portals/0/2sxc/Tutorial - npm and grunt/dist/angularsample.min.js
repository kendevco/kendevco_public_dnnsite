/*! ToSic_2sxc_App_Tutorial_npm_and_grunt 2015-06-13 */

$2sxc.ng={appAttribute:"sxc-app",ngAttrPrefixes:["ng-","data-ng-","ng:","x-ng-"],iidAttrNames:["app-instanceid","data-instanceid","id"],bootstrap:function(a,b,c,d,e){c=c||$2sxc.ng.findInstanceId(a)||$2sxc.ng.getParameterByName("mid");var f=$.ServicesFramework(c);angular.module("confSxcApp"+c,[]).constant("AppInstanceId",c).constant("AppServiceFramework",f).constant("HttpHeaders",{ModuleId:c,TabId:f.getTabId(),RequestVerificationToken:f.getAntiForgeryValue()});var g=["confSxcApp"+c,"2sxc4ng"].concat(d||[b]);angular.element(document).ready(function(){angular.bootstrap(a,g,e)})},findInstanceId:function(a){for(var b,c=angular.element(a),d=0;d<$2sxc.ng.iidAttrNames.length;d++)b=c.attr($2sxc.ng.iidAttrNames[d]);if(b){var e=parseInt(b.toString().replace(/\D/g,""));if(!e)throw"iid or instanceId (the DNN moduleid) not supplied and automatic lookup failed. Please set app-tag attribute iid or give id in bootstrap call";return e}},bootstrapAll:function(a){a=a||document;var b=a.querySelectorAll("["+$2sxc.ng.appAttribute+"]");angular.forEach(b,function(a){var b=a.getAttribute($2sxc.ng.appAttribute),c={strictDi:null!==$2sxc.ng.getNgAttribute(a,"strict-di")};$2sxc.ng.bootstrap(a,b,null,null,c)})},autoRunBootstrap:function(){angular&&angular.element(document).ready(function(){$2sxc.ng.bootstrapAll()})},getNgAttribute:function(a,b){var c,d,e=$2sxc.ng.ngAttrPrefixes.length;for(a=angular.element(a),d=0;e>d;++d)if(c=$2sxc.ng.ngAttrPrefixes[d]+b,"string"==typeof(c=a.attr(c)))return c;return null},getParameterByName:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);if(null===c){var d=window.location.pathname.match("/"+a+"/([^/]+)","i");null!==d&&d.length>1&&(c=d.reverse()[0])}else c=c[1];return null===c?"":decodeURIComponent(c.replace(/\+/g," "))}},$2sxc.ng.autoRunBootstrap(),angular.module("2sxc4ng",["ng"]).config(["$httpProvider","HttpHeaders",function(a,b){angular.extend(a.defaults.headers.common,b),a.interceptors.push(["$q","sxc",function(a,b){return{request:function(a){return a.url=b.resolveServiceUrl(a.url),a},responseError:function(c){return b.showDetailedHttpError(c),a.reject(c)}}}])}]).factory("sxc",["AppInstanceId",function(a){if(console.log("creating sxc service for id: "+a),!$2sxc)throw"the Angular service 'sxc' can't find the global $2sxc controller";var b=$2sxc(a);return b}]).factory("content",["$http",function(a){return function(b){var c={};return c.contentType=b,c.root="app-content/"+b,c.get=c.read=function(b){return a.get(c.root+(b?"/"+b:""))},c.create=function(b){return a.post(c.root,b)},c.update=c.patch=function(b,d){var e=d||b.Id||b.id;return a.post(c.root+"/"+e,b)},c["delete"]=function(b){return a["delete"](c.root+"/"+b)},c}}]).factory("query",["$http",function(a){return function(b){var c={};return c.root="app-query/"+b,c.get=function(b){return a.get(c.root,b)},c}}]);
//# sourceMappingURL=angularsample.min.js.map