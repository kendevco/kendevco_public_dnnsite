{"version":3,"sources":["js/theme.js"],"names":["$","$newsPosts","$ventrianNews","newsContainer","find","class","categoryListing","advocacyListing","clone","innovationListing","post","data","researchListing","appendTo","researchGroup","append","text","advocacyGroup","innovationGroup","accordion","contentHeights","addClass","each","index","attr","panelParent","contentWrapper","target","outerHeight","panelTarget","panelTab","content","css","accIndex","on","event","parent","$convertedArticle","$articleCategories","elements","Object","length","parents","$articleAuthors","from","children","element","values","html","$pagerList","listItem","closest","hide","classList","currentPageNumber","$pager","this","linkStem","prop","maxPageNumber","$pagerPages","$this","$currentPage","prevPageRange","nextPageRange","pagerClassList","split","join","pageNumber","nextUntil","prepend","href","push","prevUntil","concat","$pagerTable","pagerLinks","currentPage","linkClasses","formattedText","pagerButtons","pagerState","is","link","newButton","linkText","removeClass","pagerPages","pagerList","newPager","toLowerCase","match","newPage","fn","makeAccordion","after","accordionIndex","val","accordionElement","$accordion","accordionSettings","$tabs","tabElement","$panels","panelElement","$panelTab","click","$panelTarget","hasClass","jQuery","options","extend","accordionTabs","accordionPanels","tabIndex","panelIndex","panelHeight","panelID"],"mappings":"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","file":"js\\theme.min.js","sourcesContent":["/* global jQuery */\r\nvoid (function themeStart($) {\r\n\t'use strict';\r\n\r\n\t// Ventrian Category Listings\r\n\tconst $ventrianNews = $('.news.news__preload');\r\n\tconst $newsPosts = $ventrianNews.find('.category--post');\r\n\tconst newsContainer = $('<div></div>', {\r\n\t\tclass: 'news--latest',\r\n\t});\r\n\tconst categoryListing = $('<div></div>', {\r\n\t\tclass: 'category--listing',\r\n\t});\r\n\tconst researchListing = categoryListing.clone();\r\n\tconst advocacyListing = categoryListing.clone();\r\n\tconst innovationListing = categoryListing.clone();\r\n\t$newsPosts.each((index, post) => {\r\n\t\tif ($(post).data('categories') === 'Research') {\r\n\t\t\t$(post).appendTo(researchListing);\r\n\t\t} else if ($(post).data('categories') === 'Advocacy') {\r\n\t\t\t$(post).appendTo(advocacyListing);\r\n\t\t} else if ($(post).data('categories') === 'Innovation') {\r\n\t\t\t$(post).appendTo(innovationListing);\r\n\t\t}\r\n\t});\r\n\tconst researchGroup = $('<div></div>', {\r\n\t\tclass: 'news--category category__research',\r\n\t})\r\n\t\t.append($('<h2></h2>', { class: 'cateogry--title', text: 'Research' }))\r\n\t\t.append(researchListing);\r\n\tconst advocacyGroup = $('<div></div>', {\r\n\t\tclass: 'news--category category__advocacy',\r\n\t})\r\n\t\t.append($('<h2></h2>', { class: 'cateogry--title', text: 'Advocacy' }))\r\n\t\t.append(advocacyListing);\r\n\tconst innovationGroup = $('<div></div>', {\r\n\t\tclass: 'news--category category__innovation',\r\n\t})\r\n\t\t.append(\r\n\t\t\t$('<h2></h2>', { class: 'cateogry--title', text: 'Innovation' })\r\n\t\t)\r\n\t\t.append(innovationListing);\r\n\tnewsContainer\r\n\t\t.append(researchGroup)\r\n\t\t.append(advocacyGroup)\r\n\t\t.append(innovationGroup)\r\n\t\t.appendTo($ventrianNews);\r\n\t$ventrianNews.removeClass('news__preload').addClass('news__loaded');\r\n\r\n\t// Accordions\r\n\t$('.accordion-wrapper').each((index, accordion) => {\r\n\t\t$(accordion).attr('id', `accordionWrapper${index}`);\r\n\r\n\t\tconst contentHeights = [];\r\n\t\t$(accordion)\r\n\t\t\t.find('.accordion-content--wrapper')\r\n\t\t\t.each((accIndex, contentWrapper) => {\r\n\t\t\t\tcontentHeights[accIndex] = $(contentWrapper).outerHeight();\r\n\t\t\t});\r\n\r\n\t\t$(accordion)\r\n\t\t\t.find('.accordion-content')\r\n\t\t\t.each((accIndex, content) => {\r\n\t\t\t\t$(content).css('max-height', contentHeights[accIndex]);\r\n\t\t\t});\r\n\t});\r\n\t$('.accordion-wrapper .accordion-tab').on('click', (event) => {\r\n\t\tconst panelParent = $(event.target).parent();\r\n\t\tconst panelTab = $(event.target).parent().find('.accordion-tab');\r\n\t\tconst panelTarget = panelParent.find('.accordion-content');\r\n\r\n\t\tif (panelTarget.attr('aria-hidden') === 'true') {\r\n\t\t\tpanelTarget.attr('aria-hidden', 'false');\r\n\t\t\tpanelTab.attr('aria-expanded', 'true');\r\n\t\t} else {\r\n\t\t\tpanelTarget.attr('aria-hidden', 'true');\r\n\t\t\tpanelTab.attr('aria-expanded', 'false');\r\n\t\t}\r\n\t});\r\n\r\n\t// Article shenanigans\r\n\tconst $convertedArticle = $('.articleEntry').find('.converted-article');\r\n\tif ($convertedArticle.length > 0) {\r\n\t\t$convertedArticle\r\n\t\t\t.parents('.articleEntry')\r\n\t\t\t.addClass('articleEntry__converted');\r\n\t}\r\n\tconst $articleCategories = $('.articleCategories');\r\n\tif ($articleCategories.length > 0) {\r\n\t\tconst elements = Array.from($articleCategories.children());\r\n\t\t$(elements).each((index, element) => {\r\n\t\t\tif ($(element).is('a')) {\r\n\t\t\t\telements[index] = Object.values(\r\n\t\t\t\t\t$('<div></div>')\r\n\t\t\t\t\t\t.attr({ class: 'articleCategories--category' })\r\n\t\t\t\t\t\t.append(element)\r\n\t\t\t\t)[0];\r\n\t\t\t}\r\n\t\t});\r\n\t\t$articleCategories.html('').append(elements);\r\n\t}\r\n\tconst $articleAuthors = $('.article-author-container').find(\r\n\t\t'.author-results'\r\n\t);\r\n\tif (!$articleAuthors.length > 0) {\r\n\t\t$('.article-author-container').closest('.DnnModule-DNN_Reports').hide();\r\n\t}\r\n\r\n\t// Paging construction\r\n\t$('.article-listing--pager').each(function adjustPaging() {\r\n\t\tconst $pager = $(this);\r\n\t\tconst $pagerList = $pager.find('ul').addClass('pager--page-list');\r\n\t\tconst $pagerPages = $pagerList.children('li');\r\n\t\tconst maxPageNumber = $pagerPages.length;\r\n\t\tlet currentPageNumber;\r\n\t\tlet linkStem;\r\n\t\t$pagerPages.each((index, listItem) => {\r\n\t\t\tconst $this = $(listItem);\r\n\t\t\tconst classList = ['pager--page'];\r\n\t\t\tconst pageNumber = index + 1;\r\n\t\t\tif ($this.children().length > 0) {\r\n\t\t\t\tclassList.push('page__link');\r\n\t\t\t\tif (!linkStem) {\r\n\t\t\t\t\tlinkStem = $this\r\n\t\t\t\t\t\t.children('a')\r\n\t\t\t\t\t\t.prop('href')\r\n\t\t\t\t\t\t.split('/')\r\n\t\t\t\t\t\t.splice(-1, 1)\r\n\t\t\t\t\t\t.join('/');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tclassList.push('page__current');\r\n\t\t\t\tcurrentPageNumber = pageNumber;\r\n\t\t\t}\r\n\t\t\t$this\r\n\t\t\t\t.addClass(classList.join(' '))\r\n\t\t\t\t.attr('data-page', pageNumber)\r\n\t\t\t\t.attr('aria-hidden', true);\r\n\t\t});\r\n\t\tconst $currentPage = $pager.find('.page__current');\r\n\t\tconst prevPageRange = 4;\r\n\t\tconst nextPageRange = 5;\r\n\t\tconst pagerClassList = [];\r\n\t\tif (currentPageNumber + nextPageRange >= maxPageNumber) {\r\n\t\t\tpagerClassList.push('pager__end');\r\n\t\t}\r\n\t\tif (currentPageNumber - prevPageRange <= 0) {\r\n\t\t\tpagerClassList.push('pager__start');\r\n\t\t}\r\n\t\t$currentPage\r\n\t\t\t.prevUntil(`[data-page=${currentPageNumber - prevPageRange}]`)\r\n\t\t\t.addClass('page__prev')\r\n\t\t\t.attr('aria-hidden', false);\r\n\t\t$currentPage\r\n\t\t\t.nextUntil(`[data-page=${currentPageNumber + nextPageRange}]`)\r\n\t\t\t.addClass('page__next')\r\n\t\t\t.attr('aria-hidden', false);\r\n\r\n\t\t$pager\r\n\t\t\t.addClass(pagerClassList.join(' '))\r\n\t\t\t.prepend(\r\n\t\t\t\t$('<a>Prev</a>').attr({\r\n\t\t\t\t\tclass: 'pager--link link__prev',\r\n\t\t\t\t\thref: `${linkStem}/currentpage/${currentPageNumber - 1}`,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.prepend(\r\n\t\t\t\t$('<a>First</a>').attr({\r\n\t\t\t\t\tclass: 'pager--link link__first',\r\n\t\t\t\t\thref: `${linkStem}/currentpage/1`,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.append(\r\n\t\t\t\t$('<a>Next</a>').attr({\r\n\t\t\t\t\tclass: 'pager--link link__next',\r\n\t\t\t\t\thref: `${linkStem}/currentpage/${currentPageNumber + 1}`,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.append(\r\n\t\t\t\t$('<a>Last</a>').attr({\r\n\t\t\t\t\tclass: 'pager--link link__last',\r\n\t\t\t\t\thref: `${linkStem}/currentpage/${maxPageNumber}`,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.removeAttr('style');\r\n\t});\r\n\t$('.PagingTable').each(function replacePagerTable() {\r\n\t\tconst $pagerTable = $(this);\r\n\t\tconst pagerLinks = [];\r\n\t\tconst pagerPages = [];\r\n\t\tconst pagerButtons = [];\r\n\t\tconst pagerClassList = ['article-listing--pager', 'pager__table'];\r\n\t\tlet currentPage;\r\n\t\tlet pagerState;\r\n\t\t$pagerTable\r\n\t\t\t.find('td[align=\"right\"]')\r\n\t\t\t.children()\r\n\t\t\t.each((index, link) => {\r\n\t\t\t\tpagerLinks.push(link);\r\n\t\t\t});\r\n\t\t$(pagerLinks).each((index, link) => {\r\n\t\t\tconst linkClasses = [];\r\n\t\t\tlet pageNumber;\r\n\t\t\tconst linkText = $(link).text();\r\n\t\t\t$(link).removeClass('CommandButton');\r\n\t\t\tif (\r\n\t\t\t\t(linkText === 'First') |\r\n\t\t\t\t(linkText === 'Previous') |\r\n\t\t\t\t(linkText === 'Next') |\r\n\t\t\t\t(linkText === 'Last')\r\n\t\t\t) {\r\n\t\t\t\tif ($(link).is('span')) {\r\n\t\t\t\t\tif (!pagerState) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\t(linkText === 'First') |\r\n\t\t\t\t\t\t\t(linkText === 'Previous')\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tpagerClassList.push('pager__start');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpagerClassList.push('pager__end');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpagerState = linkText;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconst formattedText = linkText.toLowerCase();\r\n\t\t\t\tlinkClasses.push('pager--link');\r\n\t\t\t\tlinkClasses.push(`link__${formattedText}`);\r\n\t\t\t\tconst newButton = $(link).addClass(linkClasses.join(' '));\r\n\t\t\t\tpagerButtons.push(newButton);\r\n\t\t\t} else {\r\n\t\t\t\tlinkClasses.push('pager--page');\r\n\t\t\t\tif ($(link).is('a')) {\r\n\t\t\t\t\tpageNumber = linkText;\r\n\t\t\t\t\tif (!currentPage) {\r\n\t\t\t\t\t\tlinkClasses.push('page__prev');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlinkClasses.push('page__next');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlinkClasses.push('page__link');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcurrentPage = pageNumber = $(link).text().match(/\\d+/);\r\n\t\t\t\t\tlinkClasses.push('page__current');\r\n\t\t\t\t\tlink = pageNumber;\r\n\t\t\t\t}\r\n\t\t\t\tconst newPage = $('<li></li>')\r\n\t\t\t\t\t.attr({\r\n\t\t\t\t\t\tclass: linkClasses.join(' '),\r\n\t\t\t\t\t\t'data-page': pageNumber,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.append(link);\r\n\t\t\t\tpagerPages.push(newPage);\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst pagerList = $('<ul></ul>')\r\n\t\t\t.attr({ class: 'pager--page-list' })\r\n\t\t\t.append(pagerPages);\r\n\t\tconst newPager = $('<div></div>')\r\n\t\t\t.attr({ class: pagerClassList.join(' ') })\r\n\t\t\t.append(pagerList)\r\n\t\t\t.append(pagerButtons[2])\r\n\t\t\t.append(pagerButtons[3])\r\n\t\t\t.prepend(pagerButtons[1])\r\n\t\t\t.prepend(pagerButtons[0]);\r\n\t\t$pagerTable.after(newPager);\r\n\t});\r\n\r\n\t// Login stuff\r\n\t// do on page load first\r\n\tif ($('.mx-username-textbox').val() || $('.mx-password-textbox').val()) {\r\n\t\t$('.mx-username-label').addClass('label__above');\r\n\t\t$('.mx-password-label').addClass('label__above');\r\n\t} else {\r\n\t\t$('.mx-username-label').removeClass('label__above');\r\n\t\t$('.mx-password-label').removeClass('label__above');\r\n\t}\r\n\r\n\t$('#dnn_LoginPane .mx-password-textbox').on('input focus focusout', () => {\r\n\t\tif (\r\n\t\t\t$('.mx-username-textbox').val() ||\r\n\t\t\t$('.mx-password-textbox').val()\r\n\t\t) {\r\n\t\t\t$('.mx-username-label').addClass('label__above');\r\n\t\t\t$('.mx-password-label').addClass('label__above');\r\n\t\t} else {\r\n\t\t\t$('.mx-username-label').removeClass('label__above');\r\n\t\t\t$('.mx-password-label').removeClass('label__above');\r\n\t\t}\r\n\t});\r\n\r\n\t$('.mx-security-signin-wrapper').click(() => {\r\n\t\tif (\r\n\t\t\t$('.mx-username-textbox').val() ||\r\n\t\t\t$('.mx-password-textbox').val()\r\n\t\t) {\r\n\t\t\t$('.mx-username-label').addClass('label__above');\r\n\t\t\t$('.mx-password-label').addClass('label__above');\r\n\t\t} else {\r\n\t\t\tif (\r\n\t\t\t\t$('.mx-username-label').hasClass('label__above') ||\r\n\t\t\t\t$('.mx-password-label').hasClass('label__above')\r\n\t\t\t) {\r\n\t\t\t\t$('.mx-username-label').removeClass('label__above');\r\n\t\t\t\t$('.mx-password-label').removeClass('label__above');\r\n\t\t\t} else {\r\n\t\t\t\t$('.mx-username-label').addClass('label__above');\r\n\t\t\t\t$('.mx-password-label').addClass('label__above');\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t$('#dnn_LoginPane .mx-username-textbox').on('input focus focusout', () => {\r\n\t\tif (\r\n\t\t\t$('.mx-username-textbox').val() ||\r\n\t\t\t$('.mx-password-textbox').val()\r\n\t\t) {\r\n\t\t\t$('.mx-username-label').addClass('label__above');\r\n\t\t\t$('.mx-password-label').addClass('label__above');\r\n\t\t} else {\r\n\t\t\t$('.mx-username-label').removeClass('label__above');\r\n\t\t\t$('.mx-password-label').removeClass('label__above');\r\n\t\t}\r\n\t});\r\n\r\n\t// ACCORDION PLUGIN\r\n\t$.fn.makeAccordion = function makeAccordion(options) {\r\n\t\t// Default options\r\n\t\tconst accordionSettings = $.extend(\r\n\t\t\t{\r\n\t\t\t\taccordionTabs: '.accordion--tab',\r\n\t\t\t\taccordionPanels: '.accordion--panel',\r\n\t\t\t},\r\n\t\t\toptions\r\n\t\t);\r\n\r\n\t\treturn this.each((accordionIndex, accordionElement) => {\r\n\t\t\tconst $accordion = $(accordionElement);\r\n\t\t\tconst $tabs = $accordion.find(accordionSettings.accordionTabs);\r\n\t\t\tconst $panels = $accordion.find(accordionSettings.accordionPanels);\r\n\r\n\t\t\t$tabs.each((tabIndex, tabElement) => {\r\n\t\t\t\t$(tabElement).attr('aria-expanded', 'false');\r\n\t\t\t\t$(tabElement).attr(\r\n\t\t\t\t\t'aria-controls',\r\n\t\t\t\t\t`accordion${accordionIndex}-panel${tabIndex}`\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\t$panels.each((panelIndex, panelElement) => {\r\n\t\t\t\tconst panelHeight = $(panelElement).outerHeight();\r\n\t\t\t\t$(panelElement).attr('aria-hidden', 'true');\r\n\t\t\t\t$(panelElement).css('max-height', panelHeight);\r\n\t\t\t\t$(panelElement).attr(\r\n\t\t\t\t\t'id',\r\n\t\t\t\t\t`accordion${accordionIndex}-panel${panelIndex}`\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\t$tabs.on('click', (event) => {\r\n\t\t\t\tconst $panelTab = $(event.target);\r\n\t\t\t\tconst panelID = $panelTab.attr('aria-controls');\r\n\t\t\t\tconst $panelTarget = $accordion.find(`#${panelID}`);\r\n\r\n\t\t\t\tif ($panelTarget.attr('aria-hidden') === 'true') {\r\n\t\t\t\t\t$tabs.attr('aria-expanded', 'false');\r\n\t\t\t\t\t$panels.attr('aria-hidden', 'true');\r\n\t\t\t\t\t$panelTab.attr('aria-expanded', 'true');\r\n\t\t\t\t\t$panelTarget.attr('aria-hidden', 'false');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$tabs.attr('aria-expanded', 'false');\r\n\t\t\t\t\t$panels.attr('aria-hidden', 'true');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n})(jQuery);\r\n"]}