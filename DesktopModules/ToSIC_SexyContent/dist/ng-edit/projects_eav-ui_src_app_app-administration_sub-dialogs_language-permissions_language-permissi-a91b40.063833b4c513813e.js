"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_sub-dialogs_language-permissions_language-permissi-a91b40"],{579:(D,g,n)=>{n.r(g),n.d(g,{LanguagePermissionsComponent:()=>I});var c=n(7714),p=n(6317),v=n(6562),h=n(635),f=n(139),C=n(2925),P=n(60),L=n(2087),O=n(4153),s=n(3184),y=n(1130),l=n(2376),d=n(5590),T=n(178);let Z=(()=>{class t{agInit(e){this.params=e,this.language=this.params.data}refresh(e){return!0}openPermissions(){this.params.onOpenPermissions(this.language)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-languages-permissions-actions"]],decls:4,vars:2,consts:[[1,"actions-component"],["matRipple","","tippy","Permissions",1,"like-button","highlight",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after",3,"matBadge","matBadgeHidden"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"div",1),s.NdJ("click",function(){return i.openPermissions()}),s.TgZ(2,"mat-icon",2),s._uU(3,"person"),s.qZA()()()),2&e&&(s.xp6(2),s.Q6J("matBadge",i.language.Permissions.Count)("matBadgeHidden",!i.language.Permissions.Count))},directives:[y.wG,l.$,d.Hw,T.k],styles:[""]}),t})();var r=n(2977),m=n(5758),u=n(6362),x=n(7317),A=n(4680);function b(t,o){if(1&t){const e=s.EpF();s.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div"),s._uU(4,"Language permissions"),s.qZA(),s.TgZ(5,"button",4),s.NdJ("click",function(){return s.CHM(e),s.oxw().closeDialog()}),s.TgZ(6,"mat-icon"),s._uU(7,"close"),s.qZA()()()(),s.TgZ(8,"p",5),s._uU(9," If no language permissions are defined, all editors can edit all languages. As soon as you set any language permission, only the specified users (or users in the specified groups) can edit these permissions. "),s.qZA(),s._UZ(10,"router-outlet"),s.TgZ(11,"div",6),s._UZ(12,"ag-grid-angular",7)(13,"div",8),s.qZA()()}if(2&t){const e=o.ngIf,i=s.oxw();s.xp6(12),s.Q6J("rowData",e.languages)("gridOptions",i.gridOptions)}}let I=(()=>{class t extends P.H{constructor(e,i,a,$){super(e,i),this.router=e,this.route=i,this.dialogRef=a,this.zoneService=$,this.subscription=new c.w0,this.languages$=new p.X(void 0),this.gridOptions=this.buildGridOptions()}ngOnInit(){this.getLanguages(),this.subscription.add(this.refreshOnChildClosedShallow().subscribe(()=>{this.getLanguages()})),this.viewModel$=(0,v.a)([this.languages$]).pipe((0,h.U)(([e])=>({languages:e})))}ngOnDestroy(){this.languages$.complete(),super.ngOnDestroy()}closeDialog(){this.dialogRef.close()}openPermissions(e){this.router.navigate([C.iK.getUrlLanguage(e.NameId)],{relativeTo:this.route})}getLanguages(){this.zoneService.getLanguagesPermissions().subscribe({error:()=>{this.languages$.next(void 0)},next:e=>{this.languages$.next(e)}})}buildGridOptions(){return Object.assign(Object.assign({},O.f),{columnDefs:[{headerName:"ID",field:"Id",width:70,headerClass:"dense",cellClass:"id-action no-padding no-outline".split(" "),sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Code,cellRenderer:L.m,cellRendererParams:{tooltipGetter:a=>`ID: ${a.Code}`}},{field:"Name",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,sort:"asc",filter:"agTextColumnFilter",valueGetter:i=>i.data.Culture},{width:42,cellClass:"secondary-action no-padding".split(" "),pinned:"right",cellRenderer:Z,cellRendererParams:(()=>({onOpenPermissions:a=>this.openPermissions(a)}))()}]})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(r.F0),s.Y36(r.gz),s.Y36(m.so),s.Y36(f.b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-language-permissions"]],features:[s.qOj],decls:2,vars:3,consts:[["class","nav-component-wrapper",4,"ngIf"],[1,"nav-component-wrapper"],["mat-dialog-title",""],[1,"dialog-title-box"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"dialog-description"],[1,"grid-wrapper"],[1,"ag-theme-material",3,"rowData","gridOptions"],[1,"grid-more-actions-box"]],template:function(e,i){1&e&&(s.YNc(0,b,14,2,"div",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.viewModel$))},directives:[u.O5,m.uh,x.lW,l.$,d.Hw,r.lC,A.N8],pipes:[u.Ov],styles:[""]}),t})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/16.09.00/dist/ng-edit/projects_eav-ui_src_app_app-administration_sub-dialogs_language-permissions_language-permissi-a91b40.063833b4c513813e.js.map