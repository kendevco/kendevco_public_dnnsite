<p class="text-muted" style="margin: 20px;">
    Read documentation on <a href="http://action-form.dnnsharp.com/lifecycle">Form Life Cycle</a>
    to understand how to best use the form events.
</p>

<!--On Page Load-->
<div class="event-root">
    <div class="subtitle-with-number-and-def">
        <div class="subtitle-section-with-number">
            <div class="number">1</div>
            <h2 class="subtitle">On Page Load</h2>
        </div>
        <div class="def">
            <a href="#" data-trigger="focus"
               data-toggle="tooltip"
               data-placement="left"
               onclick="return false;"
               title="
                    These actions are executed right on the page load in the order you specify.
                    This happens before all other events, and only once at the page load.
                    By triggering a reinit of this form will NOT trigger these actions!
                    Note that contextual data generated by these actions will NOT persist.
                    Note that the main purpose of this action list is to compute conditional redirects.">
                <span class="material-icons help-icon">
                    help_outline
                </span>
            </a>
        </div>
    </div>

    <div class="section-content">
        <div data-dnnsf-calldirective=""
             data-pass-dnnsf-actions="sharedData.form.OnPageLoad"
             data-pass-dnnsf-defs="actionDefsNotFlushable"
             data-pass-dnnsf-defgroups="actionDefGroupsnotFlushable"
             data-pass-event-name="'pageload'"
             data-pass-dnnsf-fields="sharedData.form.Fields"></div>
    </div>
</div>

<!--On PreInit-->
<div class="event-root">
    <div class="subtitle-with-number-and-def">
        <div class="subtitle-section-with-number">
            <div class="number">2</div>
            <h2 class="subtitle">On PreInit</h2>
        </div>
        <div class="def">
            <a href="#" data-trigger="focus"
               data-toggle="tooltip"
               data-placement="left"
               onclick="return false;"
               title="
                    These actions are executed in the order you specify before form fields are initialized.
                    Use it to load data the fields depend on.
                    Note that contextual data generated by these actions will NOT persist.
                    So for example, you can use the context tokens in Conditions of controls or in their default values,
                    but you can't use them in the Condition of the Actions attached to buttons, because they will be executed later
                    when the user clicks the button. You'll need to add the relevant actions to the button to load data in that context too.">
                <span class="material-icons help-icon">
                    help_outline
                </span>
            </a>
        </div>
    </div>

    <div class="section-content">
        <div data-dnnsf-calldirective=""
             data-pass-dnnsf-actions="sharedData.form.OnPreInit"
             data-pass-dnnsf-defs="actionDefsNotFlushable"
             data-pass-dnnsf-defgroups="actionDefGroupsnotFlushable"
             data-pass-event-name="'preinit'"
             data-pass-dnnsf-fields="sharedData.form.Fields"></div>
    </div>
</div>

<!--On Init-->
<div class="event-root">
    <div class="subtitle-with-number-and-def">
        <div class="subtitle-section-with-number">
            <div class="number">3</div>
            <h2 class="subtitle">On Init</h2>
        </div>
        <div class="def">
            <a href="#" data-trigger="focus"
               data-toggle="tooltip"
               data-placement="left"
               onclick="return false;"
               title="These actions are executed in the order you specify after the form fields have been initialized with a value.
                      At this stage it's safe to reference fields by their [FieldID] token to get their values.
                      Note that contextual data generated by these actions will NOT persist.">
                <span class="material-icons help-icon">
                    help_outline
                </span>
            </a>
        </div>
    </div>

    <div class="section-content">
        <div data-dnnsf-calldirective=""
             data-pass-dnnsf-actions="sharedData.form.OnInit"
             data-pass-dnnsf-defs="actionDefsNotFlushable"
             data-pass-dnnsf-defgroups="actionDefGroupsnotFlushable"
             data-pass-event-name="'init'"
             data-pass-dnnsf-fields="sharedData.form.Fields"></div>
    </div>
</div>

<!--On submit-->
<div class="event-root">
    <div class="subtitle-with-number-and-def">
        <div class="subtitle-section-with-number">
            <div class="number">4</div>
            <h2 class="subtitle">On Submit</h2>
        </div>
    </div>

    <div class="section-content">
        <p style="margin: 10px 0 10px 0;" class="text-muted">
            Submit logic is now defined for each indidivual button in its OnClick section.
        </p>
    </div>
</div>

<!--On Validation Failed-->
<div class="event-root">
    <div class="subtitle-with-number-and-def">
        <div class="subtitle-section-with-number">
            <div class="number">5</div>
            <h2 class="subtitle">On Validation Failed</h2>
        </div>

        <div class="def">
            <a href="#" data-trigger="focus"
               data-toggle="tooltip"
               data-placement="left"
               onclick="return false;"
               title=" Define a list of actions to be executed when validation fails.">
                <span class="material-icons help-icon">
                    help_outline
                </span>
            </a>
        </div>
    </div>

    <div class="section-content">
        <div data-dnnsf-calldirective=""
             data-pass-dnnsf-actions="sharedData.form.OnValidationFailed"
             data-pass-dnnsf-defs="actionDefs"
             data-pass-dnnsf-defgroups="actionDefGroups"
             data-pass-event-name="'validation-failed'"
             data-pass-dnnsf-fields="sharedData.form.Fields"></div>
    </div>
</div>

<!--Tab Events-->
<div class="event-root">
    <div class="subtitle-with-number-and-def">
        <div class="subtitle-section-with-number">
            <div class="number">6</div>
            <h2 class="subtitle">Tab Events</h2>
        </div>
    </div>

    <div class="section-content">

        <div class="form-group checkbox-field">
            <label class="col-sm-2 control-label">Use Tab loading animation</label>
            <div class="col-xs-12 col-sm-10 col-lg-6 col-md-10">
                <input type="checkbox" data-ng-model="sharedData.form.TabsProLoading.Value" data-ng-click="sharedData.form.ShowLoading.Value = false" />
                <p class="text-muted inline">Trigger the Tab loading animation from the Form. Disables Form's own loading animation.</p>
            </div>
        </div>

        <!--On Tab Enter-->
        <div class="event-root">
            <label class="col-sm-2 control-label label-big">On Tab Enter</label>
            <div class="col-sm-10">
                <p style="margin: 10px 0 10px 0;" class="text-muted">
                    Define a list of actions to be executed after the Tab containing this Form is entered.
                </p>
                <div data-dnnsf-calldirective=""
                     data-pass-dnnsf-actions="sharedData.form.TabsPro_OnTabEnter"
                     data-pass-dnnsf-defs="actionDefs"
                     data-pass-dnnsf-defgroups="actionDefGroups"
                     data-pass-event-name="'tabspro_ontabenter'"
                     data-pass-dnnsf-fields="sharedData.form.Fields"></div>
            </div>
        </div>

        <!--On Tab Leave-->
        <div class="event-root">
            <label class="col-sm-2 control-label label-big">On Tab Leave</label>
            <div class="col-sm-10">
                <p style="margin: 10px 0 10px 0;" class="text-muted">
                    Define a list of actions to be executed after the Tab containing this Form is left.
                </p>
                <div class="form-group checkbox-field">
                    <label class="col-sm-2 control-label" style="text-align:left;max-width: 140px;">Refresh tab state</label>
                    <div class="col-xs-12 col-sm-10 col-lg-6 col-md-10">
                        <input type="checkbox" data-ng-model="sharedData.form.TabsPro_RefreshTabStateOnLeave.Value" />
                        <p class="text-muted inline">this option enables all tabs' conditions to be reevaluated when a Tab is changed.</p>
                    </div>
                </div>
                <div class="form-group checkbox-field">
                    <label class="col-sm-2 control-label" style="text-align:left;max-width: 140px;">Ignore Validation</label>
                    <div class="col-xs-12 col-sm-10 col-lg-6 col-md-10">
                        <input type="checkbox" data-ng-model="sharedData.form.TabsPro_IgnoreValidationOnLeave.Value" />
                        <p class="text-muted inline">this option enables Action Form to avoid validation (both client and server side).</p>
                    </div>
                </div>
                <div class="form-group checkbox-field">
                    <label class="col-sm-2 control-label" style="text-align:left;max-width: 140px;">Ignore TabLeave</label>
                    <div class="col-xs-12 col-sm-10 col-lg-6 col-md-10">
                        <input type="checkbox" data-ng-model="sharedData.form.TabsPro_IgnoreTabLeaveIfNoChanges.Value" />
                        <p class="text-muted inline">if activated, the actions will not be executed twice if the form has not been changed.</p>
                    </div>
                </div>
                <div class="form-group checkbox-field">
                    <label class="col-sm-2 control-label" style="text-align:left;max-width: 140px;">Save To Reports</label>
                    <div class="col-xs-12 col-sm-10 col-lg-6 col-md-10">
                        <input type="checkbox" data-ng-model="sharedData.form.TabsPro_SaveToReportsOnLeave.Value" />
                        <p class="text-muted inline">this option enables Action Form to save data to reports table.</p>
                    </div>
                </div>
            </div>
            <div class="col-sm-offset-2 col-sm-10">
                <div data-dnnsf-calldirective=""
                     data-pass-dnnsf-actions="sharedData.form.TabsPro_OnTabLeave"
                     data-pass-dnnsf-defs="actionDefs"
                     data-pass-dnnsf-defgroups="actionDefGroups"
                     data-pass-event-name="'tabspro_ontableave'"
                     data-pass-dnnsf-fields="sharedData.form.Fields"></div>
            </div>
        </div>
    </div>
    <div style="clear:both;"></div>
</div>


<!--before ending with this section, let's register js functions from action definitions-->
<div class="event-root">
    <div data-ng-repeat="act in actionDefs">
        <div data-ng-bind-html="$sce.trustAsHtml(act.JsFunctions)"></div>
    </div>
</div>